import{M as k,R as M,b as e,E as B,r as h,k as F,j as l,F as O,l as E,T as L,n as N,o as g,x as V,y as D,z as U,G,p as R,q as p,J as I,B as y,Y as j,s as m}from"./vendor.daf4729c.js";import{d as W,u as $}from"./index.142592eb.js";k.setAppElement("body");const X=[{id:1,staff_id:"NUA213",staff_name:"JUDE LUBEGE",staff_title:"PROF",total_sessions:20,total_stds_scanned:13},{id:3,staff_id:"NUA211",staff_name:"MULINDE HAKIM",staff_title:"MR",total_sessions:20,total_stds_scanned:13},{id:2,staff_id:"NUA213",staff_name:"JUDE LUBEGE",staff_title:"PROF",total_sessions:20,total_stds_scanned:13}];M.memo(()=>e("div",{style:{whiteSpace:"nowrap",overflowX:"auto"},children:e(B,{className:"chartsh",option:{tooltip:{trigger:"axis",axisPointer:{type:"line"}},grid:{top:"6",right:"0",bottom:"17",left:"25"},xAxis:[{type:"category",align:"center",axisLabel:{show:!0,formatter:function(o,b){return z(o,15)}},data:["Business Communication","Computer Maths","Structured Programming","Artificial Intelligence","Computer Repair"]}],yAxis:[{type:"value"}],series:[{name:"Taught Percentage",type:"bar",stack:"Stack",barMaxWidth:20,color:"#285cf7",emphasis:{focus:"series"},data:[10,15,9,18,10,15]},{name:"Not Taught",type:"bar",stack:"Stack",barMaxWidth:20,color:"#f7557a",emphasis:{focus:"series"},data:[10,14,10,15,9,25]}]},height:"150px",style:{whiteSpace:"nowrap",overflowX:"auto"}})}));function z(n,o){return n.length>o?n.slice(0,o-3)+"...":n}const q=M.memo(({data:n,yr:o,selectedDate:b})=>{const[x,S]=h.exports.useState(!1);h.exports.useState(!1);const[P,_]=h.exports.useState([]),[r,u]=h.exports.useState(0),[C,v]=h.exports.useState(""),[K,A]=h.exports.useState(),s=F({columns:[{header:"Invigilator",accessorFn:t=>t,cell:t=>l("div",{style:{display:"flex",alignItems:"center"},children:[e("div",{style:{width:40,height:40,borderRadius:20,backgroundColor:"lightblue",marginRight:5,whiteSpace:"nowrap",flexShrink:0},children:e("img",{src:`${$.baseUrl1}api/lecturer/image/${t.getValue().staff_id}`,style:{width:40,height:40,borderRadius:20,backgroundColor:"lightblue",marginRight:5,whiteSpace:"nowrap",flexShrink:0}})}),l("div",{children:[e("div",{style:{fontSize:13},children:`${t.getValue().staff_title} ${t.getValue().staff_name}`}),e("div",{style:{fontSize:12,opacity:.8},children:`${t.getValue().staff_id}`})]})]})},{header:"Total Sessions",accessorFn:t=>t.total_sessions},{header:"Total Stds Scanned",accessorFn:t=>t.total_stds_scanned}],data:X,getCoreRowModel:V(),getPaginationRowModel:D(),getSortedRowModel:U(),getFilteredRowModel:G(),state:{sorting:P,globalFilter:C},onSortingChange:_,onGlobalFilterChange:v}),T=()=>{const t=s.getPageCount(),d=10,a=[];if(t<=d)for(let i=0;i<t;i++)a.push(e(g.Item,{active:r===i,onClick:()=>{s.setPageIndex(i),u(i)},children:i+1},i));else{const i=Math.max(r-Math.floor(d/2),0),w=Math.min(i+d-1,t-1);i>0&&a.push(e(g.Ellipsis,{onClick:()=>{s.setPageIndex(0),u(0)}},"start-ellipsis"));for(let c=i;c<=w;c++)a.push(e(g.Item,{active:r===c,onClick:()=>{s.setPageIndex(c),u(c)},children:c+1},c));w<t-1&&a.push(e(g.Ellipsis,{onClick:()=>{s.setPageIndex(s.getPageCount()-1),u(s.getPageCount()-1)}},"end-ellipsis"))}return a};return l(O,{children:[e("div",{style:{display:"flex",justifyContent:"flex-end",width:400},children:e(E.Control,{className:"mb-2 mg-b-10",style:{alignSelf:"flex-end"},type:"text",value:C,onChange:t=>{v(t.target.value)},placeholder:"Search"})}),l(L,{responsive:!0,bordered:!0,hover:!0,style:{padding:0,marginBottom:0},children:[e("thead",{children:s.getHeaderGroups().map((t,d)=>e("tr",{style:{backgroundColor:"lightblue"},children:t.headers.map((a,i)=>l("th",{onClick:a.column.getToggleSortingHandler(),style:{cursor:"pointer"},children:[N(a.column.columnDef.header,a.getContext()),e("span",{children:{asc:e("i",{style:{},className:"fa fa-angle-up"}),desc:e("i",{style:{},className:"fa fa-angle-down"})}[a.column.getIsSorted()??null]})]}))},d))}),e("tbody",{style:{padding:0},children:s.getRowModel().rows.length!==0?s.getRowModel().rows.map((t,d)=>e("tr",{onDoubleClick:()=>{S(!0),console.log("the row",t.original),A(t.original)},children:t.getVisibleCells().map((a,i)=>e("td",{style:{padding:a.column.columnDef.header==="Staff"?5:null},children:N(a.column.columnDef.cell,a.getContext())},i))},d)):e("tr",{style:{alignSelf:"center"},children:e("td",{style:{textAlign:"center"},colSpan:6,children:l("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e("img",{src:W,alt:"",className:"wd-15p"}),e("h5",{className:"mg-b-10 mg-t-15 tx-18",children:"No Data Available"})]})})})})]}),e("div",{style:{marginTop:10,display:"flex",justifyContent:"flex-end"},children:l(g,{className:"mb-0",children:[e(g.Prev,{disabled:r===0,onClick:()=>{s.previousPage(),u(r-1)}}),T(),e(g.Next,{disabled:r===s.getPageCount()-1,onClick:()=>{s.nextPage(),u(r+1)}})]})}),e("div",{children:e(k,{isOpen:x,style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{position:"absolute",border:"1px solid #ccc",background:"#ecf0fa",overflow:"hidden",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none"}},contentLabel:"Example Modal",children:e("button",{style:{position:"absolute",top:10,right:10},onClick:()=>S(!1),children:"close"})})})]})}),H=[{value:"1",label:"MAIN"},{value:"2",label:"KAMPALA"}],J=[{value:"1",label:"FEB 2024 EXAMS"},{value:"2",label:"AUG 2023 EXAMS"}],f=({title:n,backgroundColor:o,total:b,onClick:x})=>e(m,{className:`overflow-hidden sales-card ${o}`,style:{cursor:"pointer"},onClick:x,children:l("div",{className:"px-3 pt-2 pb-1 pt-0",children:[e("div",{style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:e("h6",{className:"tx-12 text-white",children:n})}),e("div",{className:"pb-0 mt-0",children:e("div",{className:"d-flex",children:e("div",{className:"",children:e("h4",{className:"tx-20 fw-bold mb-1 text-white",children:b})})})})]})});function ee(){const[n,o]=h.exports.useState(!1);return l("div",{children:[e("div",{style:{marginBottom:20},children:e("h4",{className:"tx-24",children:"Invigilator Report"})}),e("div",{children:e(E,{children:l(R,{className:"row-sm center",style:{marginBottom:20},children:[l(p,{lg:2,children:[e("label",{className:"lb",children:"Campus"}),e(I,{classNamePrefix:"Select-sm",required:!0,options:H,placeholder:"Campus"})]}),l(p,{lg:3,children:[e("label",{className:"lb",children:"Exam"}),e(I,{classNamePrefix:"Select-sm",required:!0,options:J,placeholder:"Select Exam"})]}),e(p,{lg:1,style:{display:"flex",justifyContent:"flex-end"},children:e(y,{type:"submit",style:{alignSelf:"flex-end",width:"100%",marginBottom:3,padding:10,paddingTop:5,paddingBottom:5},children:n?e(j,{animation:"border",size:"sm",className:"",role:"status","aria-hidden":"true",children:e("span",{className:"sr-only",children:"Loading..."})}):"Load"})})]})})}),l(R,{children:[e(p,{md:9,children:l(m,{style:{boxShadow:"none",borderColor:"lightgray",borderWidth:1,padding:0},children:[l("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:10},children:[e("div",{children:e("h5",{style:{margin:0,padding:0},children:"Invigilators for the FEB 2024 exams"})}),l("div",{style:{display:"flex",justifyContent:"space-between",width:"auto"},children:[e(y,{style:{alignSelf:"center",padding:10,marginLeft:10,paddingTop:5,paddingBottom:5},disabled:!0,children:"View Details"}),e(y,{style:{alignSelf:"center",marginLeft:10,padding:10,paddingTop:5,paddingBottom:5},disabled:!0,children:"Export"})]})]}),e("hr",{style:{padding:0,margin:0}}),e(m.Body,{style:{padding:10},children:e(q,{data:[],yr:null,selectedDate:null})})]})}),l(p,{children:[l(m,{style:{boxShadow:"none",borderColor:"lightgray",borderWidth:1,padding:15},children:[e("h5",{children:"Rooms and sessions"}),e(f,{title:"TOTAL NUMBER OF SESSIONS",total:20,backgroundColor:"bg-success-gradient",onClick:()=>console.log("The sessions")}),e(f,{title:"TOTAL NUMBER OF ROOMS",total:20,backgroundColor:"bg-info-gradient",onClick:()=>console.log("View room details")})]}),l(m,{style:{boxShadow:"none",borderColor:"lightgray",borderWidth:1,padding:10},children:[e("h5",{children:"Invigilators summary"}),e(f,{title:"ACTIVE INVIGILATORS",total:20,backgroundColor:"bg-success-gradient"}),e(f,{title:"INACTIVE INVIGILATORS",total:34,backgroundColor:"bg-warning-gradient"})]})]})]})]})}export{ee as default};
