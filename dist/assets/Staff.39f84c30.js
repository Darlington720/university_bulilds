import{_ as w,P as C}from"./index.142592eb.js";import{r as t,j as r,b as e,p as R,q as L,s as N,l as S,B as n,W as k}from"./vendor.daf4729c.js";import{a as O}from"./staffApi.560af7a2.js";const{AgGridReact:D}=await w(()=>import("./vendor.daf4729c.js").then(a=>a.m),["assets/vendor.daf4729c.js","assets/vendor.f5fe307f.css"]);function o(){return e("div",{className:"ag-overlay-no-rows-wrapper",children:e("div",{className:"ag-overlay-no-rows-center"})})}const _=[{headerName:"ID",valueGetter:"node.rowIndex + 1",width:80,cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0},{headerName:"Staff ID",field:"staff_id",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0},{headerName:"Staff name",field:"staff_name",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0,valueFormatter:a=>`${a.data.title} ${a.data.staff_name}`},{headerName:"Role",field:"role",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0}];function M(){return e("div",{className:"ag-overlay-loading-center",style:{backgroundColor:"lightsteelblue",height:"9%"},children:e("span",{children:"loading..."})})}function A(){const a=t.exports.useRef(),[s,i]=t.exports.useState([]),[d,E]=t.exports.useState(!1),c=t.exports.useCallback(()=>{a.current.api.exportDataAsCsv()},[]),g=t.exports.useMemo(()=>M,[]),m=async()=>{const l=await O.getAllStaffMembers();if(!l.ok){alert("Failed to get staff memebrs");return}i(l.data)},p=t.exports.useMemo(()=>({loadingMessage:"One moment please..."}),[]);t.exports.useCallback(()=>{a.current.api.showLoadingOverlay()},[]),t.exports.useCallback(()=>{a.current.api.hideOverlay()},[]);function f(){return d?e("div",{className:"ag-overlay-loading-wrapper",children:e("div",{className:"ag-overlay-loading-center",children:"Loading..."})}):null}const u={rowStyle:{borderBottom:"1px solid #ccc"},headerHeight:40,rowHeight:10},h=t.exports.useCallback(l=>{console.log(l.data)}),y=t.exports.useMemo(()=>o,[]),x=t.exports.useMemo(()=>({noRowsMessageFunc:()=>"Sorry - no rows! at: "+new Date}),[]),v=t.exports.useCallback(()=>{a.current.api.setQuickFilter(document.getElementById("filter-text-box").value)},[]),b=t.exports.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]);return t.exports.useEffect(()=>{m()},[]),r("div",{children:[e(C,{titles:"Staff",active:"staff entrance"}),e(R,{className:"row-sm justify-content-center",children:e(L,{lg:12,md:12,className:"justify-content-center",children:e(N,{className:"card-body border shadow-none",style:{paddingTop:10,padding:10},children:r("div",{className:"example",style:{marginTop:10,padding:0},children:[e("div",{style:{paddingTop:10,paddingLeft:10,paddingRight:10},children:e("h5",{children:"All Staff Members in Nkumba University"})}),e("div",{style:{width:"100%",height:1,backgroundColor:"lightgray"}}),r("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",paddingLeft:10,paddingRight:10},children:[e("div",{style:{display:"flex",alignItems:"center"},children:e(S.Control,{className:"mb-3",style:{width:300,alignSelf:"flex-end"},type:"text",id:"filter-text-box",placeholder:"Search...",onInput:v})}),r("div",{style:{display:"flex"},children:[e("div",{style:{},children:r(n,{variant:"primary",onClick:c,style:{padding:5,paddingLeft:10,paddingRight:10,marginRight:5,marginLeft:5,alignItems:"center"},children:[e("i",{className:"si si-list",style:{marginRight:5,marginLeft:5}}),e("span",{children:"Export to Excel"})]})}),e("div",{style:{marginRight:5,marginLeft:5},children:r(n,{variant:"warning",style:{padding:5,paddingLeft:10,paddingRight:10},children:[e("i",{className:"mdi mdi-refresh"}),e("span",{children:"RELOAD"})]})})]})]}),e("div",{className:"ag-theme-alpine justify-content-center",style:{height:400,paddingLeft:10,paddingRight:10,width:"100%"},children:e(D,{ref:a,gridOptions:u,columnDefs:_,rowData:s,rowHeight:30,headerHeight:30,onCellClicked:h,cacheQuickFilter:!0,rowSelection:"single",animateRows:!0,rowStyle:{borderBottom:"1px solid #ccc"},defaultColDef:b,noRowsOverlayComponent:y,overlayNoRowsTemplate:o,frameworkComponents:{customLoadingCellRenderer:f},loadingOverlayComponent:g,loadingOverlayComponentParams:p,noRowsOverlayComponentParams:x,pagination:!0})})]})})})}),e(k,{})]})}export{A as default};
