import{r as i,j as t,b as e,q as C,s as o,v as g,T as c,d as n,F as l,K as N,B as S,n as _,a1 as P,a2 as k}from"./vendor.d738f66a.js";import{P as w}from"./Pageheader.0f9dd2ab.js";import{S as T,b as B}from"./index.6b14fc96.js";const K={},f=()=>{const r=i.exports.useContext(T),[d,h]=i.exports.useState(),[m,p]=i.exports.useState(),[u,b]=i.exports.useState(!1),v=[];r.data.constraints.forEach((a,s)=>{a.c_name!=="real_time"&&v.push({value:a.c_id,label:a.c_name})});const y=async a=>{b(!0);const s=await B.updateConstraint(a);b(!1),s.ok||console.log("failed to update the constraint"),console.log("response",s.data),r.setData({...r.data,constraints:s.data}),p(""),h({value:"",label:""}),k(`Successfully updated the ${a.c_name} constraint`,{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},x=async()=>{const a={c_id:d.value,c_name:d.label,c_percentage:parseInt(m)};console.log("ready",a),await y(a)};return t("div",{className:K.Tabs,children:[e(w,{titles:"Constraints",active:"set constaints"}),e(C,{className:"row-sm",children:e(o,{xl:12,children:e(g,{className:"mg-b-20",id:"tabs-style3",children:e(g.Body,{style:{},children:e("div",{className:"text-wrap",children:e("div",{className:"example",children:e("div",{className:"panel panel-primary tabs-style-3",children:t(c.Container,{id:"left-tabs-example",defaultActiveKey:"first",children:[e("div",{className:"tabs-menu ",children:t(n,{variant:"",className:" nav panel-tabs",children:[e(n.Item,{children:t(n.Link,{eventKey:"first",children:[e("i",{className:"fa fa-laptop me-2"})," Set Constraint"]})}),e(n.Item,{children:t(n.Link,{eventKey:"second",children:[e("i",{className:"fa fa-cube me-2"}),"View Constraints"]})})]})}),t(c.Content,{className:"panel-body tabs-menu-body border-top-0",children:[e(c.Pane,{eventKey:"first",children:t(C,{style:{marginBottom:100},children:[t(o,{xl:3,className:"mb-3",children:[e(l.Label,{children:"Select Constraint"}),e(N,{classNamePrefix:"Select",options:v,onChange:a=>h(a),value:d,placeholder:"Choose Constraint"}),t(l.Control.Feedback,{type:"invalid",children:[" ","Please provide a valid state."]})]}),t(o,{xl:3,className:"mb-3",children:[e(l.Label,{children:"Percentage"}),e(l.Control,{type:"text",placeholder:"Choose a percentage",value:m,onChange:a=>p(a.target.value),required:!0,isValid:!0}),e(l.Control.Feedback,{type:"invalid",children:"Choose percentage"})]}),e("div",{style:{marginBottom:15,marginTop:23},children:e(o,{children:e(S,{onClick:x,disabled:u,children:u?"setting...":"Set"})})})]})}),e(c.Pane,{eventKey:"second",children:e("div",{className:"table-responsive",children:t(_,{className:"mb-0 table-bordered border-top mb-0",children:[e("thead",{children:t("tr",{children:[e("th",{children:"ID"}),e("th",{children:"Constraint Name"}),e("th",{children:"Constraint(%)"})]})}),e("tbody",{children:r.data.constraints.map((a,s)=>{if(a.c_name!=="real_time")return t("tr",{children:[e("th",{scope:"row",children:s+1}),e("td",{children:a.c_name}),e("td",{children:a.c_percentage})]})})})]})})})]})]})})})})})})})}),e(P,{})]})};f.propTypes={};f.defaultProps={};export{f as default};
