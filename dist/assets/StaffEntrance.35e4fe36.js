import{_,P as I}from"./index.c7bb2c58.js";import{r as t,R as p,j as a,b as e,p as u,q as o,s as M,l as d,X as E,B as i,V as j}from"./vendor.9c0f602b.js";import{a as A}from"./staffApi.7c8dbe0f.js";const{AgGridReact:F}=await _(()=>import("./vendor.9c0f602b.js").then(r=>r.m),["assets/vendor.9c0f602b.js","assets/vendor.f5fe307f.css"]);function h(){return e("div",{className:"ag-overlay-no-rows-wrapper",children:e("div",{className:"ag-overlay-no-rows-center"})})}const P=[{headerName:"ID",valueGetter:"node.rowIndex + 1",width:100,cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0},{headerName:"Staff Name",field:"staff_name",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0},{headerName:"Signin Time",field:"signin_time",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0},{headerName:"Signin Date",field:"signin_date",cellStyle:{borderLeft:"1px solid #ccc"},width:150,sortable:!0,filter:!0},{headerName:"Temperature",field:"temperature",cellStyle:{borderLeft:"1px solid #ccc"},width:150,sortable:!0,filter:!0},{headerName:"Signed in By",field:"userfull_name",cellStyle:{borderLeft:"1px solid #ccc"},sortable:!0,filter:!0}];function H(){return e("div",{className:"ag-overlay-loading-center",style:{backgroundColor:"lightsteelblue",height:"9%"},children:e("span",{children:"loading..."})})}function W(){const r=t.exports.useRef(),[c,f]=p.useState(new Date);p.useState(new Date),t.exports.useState(),t.exports.useState();const[y,x]=t.exports.useState([]);t.exports.useState([]),t.exports.useState([]),t.exports.useState([]),t.exports.useState([]),t.exports.useState([]);const[s,g]=t.exports.useState(!1),b=t.exports.useCallback(()=>{r.current.api.exportDataAsCsv()},[]),w=t.exports.useMemo(()=>H,[]),v=t.exports.useMemo(()=>({loadingMessage:"One moment please..."}),[]),S=t.exports.useCallback(()=>{r.current.api.showLoadingOverlay()},[]),N=t.exports.useCallback(()=>{r.current.api.hideOverlay()},[]);function C(){return s?e("div",{className:"ag-overlay-loading-wrapper",children:e("div",{className:"ag-overlay-loading-center",children:"Loading..."})}):null}const L={rowStyle:{borderBottom:"1px solid #ccc"},headerHeight:40,rowHeight:10},R=async l=>{l.preventDefault();const m={selectedDate:c};console.log("am sending",m),g(!0),S();const n=await A.getStaffByDate(m);if(N(),g(!1),!n.ok){alert("Error handling your request!!!"),console.log("error",n.data);return}console.log("The data",n.data),x(n.data)},D=t.exports.useCallback(l=>{console.log(l.data)}),k=t.exports.useMemo(()=>h,[]),O=t.exports.useMemo(()=>({noRowsMessageFunc:()=>"Sorry - no rows! at: "+new Date}),[]),T=t.exports.useCallback(()=>{r.current.api.setQuickFilter(document.getElementById("filter-text-box").value)},[]),B=t.exports.useMemo(()=>({sortable:!0,filter:!0,resizable:!0}),[]);return a("div",{children:[e(I,{titles:"Staff",active:"staff entrance"}),e(u,{className:"row-sm justify-content-center",children:e(o,{lg:12,md:12,className:"justify-content-center",children:a(M,{className:"card-body border shadow-none",style:{paddingTop:10,padding:10},children:[e("form",{onSubmit:R,children:a(u,{className:"row-xs ",style:{marginTop:10,display:"flex",alignItems:"center"},children:[e(o,{md:3,className:"",children:a(d.Group,{children:[e(d.Label,{className:"main-content-label tx-11 tx-medium tx-gray-600",style:{fontWeight:"bold"},children:"DATE"}),e(E,{className:"custom-datepicker form-control",required:!0,selected:c,dateFormat:"dd/MM/yyyy",style:{color:"red"},onChange:l=>f(l)})]})}),e(o,{md:1,style:{marginBottom:5,alignSelf:"flex-end"},children:e(i,{className:"btn-primary btn-block",disabled:s,type:"submit",style:{padding:5,fontWeight:"bold"},children:e("span",{style:{fontWeight:"bold"},children:s?"LOADING":"LOAD"})})})]})}),a("div",{className:"example",style:{marginTop:10,padding:0},children:[e("div",{style:{paddingTop:10,paddingLeft:10,paddingRight:10},children:e("h5",{children:"Staff Members that were Signed in Today"})}),e("div",{style:{width:"100%",height:1,backgroundColor:"lightgray"}}),a("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",paddingLeft:10,paddingRight:10},children:[e("div",{style:{display:"flex",alignItems:"center"},children:e(d.Control,{className:"mb-3",style:{width:300,alignSelf:"flex-end"},type:"text",id:"filter-text-box",placeholder:"Search...",onInput:T})}),a("div",{style:{display:"flex"},children:[e("div",{style:{},children:a(i,{variant:"primary",onClick:b,style:{padding:5,paddingLeft:10,paddingRight:10,marginRight:5,marginLeft:5,alignItems:"center"},children:[e("i",{className:"si si-list",style:{marginRight:5,marginLeft:5}}),e("span",{children:"Export to Excel"})]})}),e("div",{style:{},children:a(i,{variant:"primary",style:{padding:5,paddingLeft:10,paddingRight:10,alignItems:"center"},children:[e("i",{className:"si si-list",style:{marginRight:5}}),e("span",{children:"View Details"})]})}),e("div",{style:{marginRight:5,marginLeft:5},children:a(i,{variant:"warning",style:{padding:5,paddingLeft:10,paddingRight:10},children:[e("i",{className:"mdi mdi-refresh"}),e("span",{children:"RELOAD"})]})})]})]}),e("div",{className:"ag-theme-alpine justify-content-center",style:{height:400,paddingLeft:10,paddingRight:10,width:"100%"},children:e(F,{ref:r,gridOptions:L,columnDefs:P,rowData:y,rowHeight:30,headerHeight:30,onCellClicked:D,cacheQuickFilter:!0,rowSelection:"single",animateRows:!0,rowStyle:{borderBottom:"1px solid #ccc"},defaultColDef:B,noRowsOverlayComponent:k,overlayNoRowsTemplate:h,frameworkComponents:{customLoadingCellRenderer:C},loadingOverlayComponent:w,loadingOverlayComponentParams:v,noRowsOverlayComponentParams:O,pagination:!0})})]})]})})}),e(j,{})]})}export{W as default};
